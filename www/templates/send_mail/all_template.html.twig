{% extends 'base.html.twig' %}

{% block title %}Hello SendMailController!
{% endblock %}

{% block content %}
	<section class="mt-5">
		<div class="section__content section__content--p30">
			<div class="container-fluid">
				<div class="row">
					<div
						class="col-xl-12">
						<!-- USER DATA-->
						<div class="user-data m-b-40">
							<h3 class="title-3 m-b-30">
								<i class="fas fa-user-graduate"></i>Add new Template Email</h3>
							<div class="col-lg-12">
								<div class="card">
									<div class="card-header">
										<strong>Template</strong>
									</div>
									<div class="table-responsive table-data">
										<table class="table">
											<thead>
												<tr>
													<td>name</td>
													<td class="text-center">template content</td>
												</tr>
											</thead>
											<tbody>
												{% for template in templates %}

													<tr>
														<td>
															<p>{{template.name}}</p>
														</td>
														<td class="text-center">
															<button type="button" class="btn btn-success mb-1" data-toggle="modal" data-target="#{{template.id}}">

																<i class="fas fa-file"></i>&nbsp; Content
															</button>
														</td>
														<td>
															<div class="table-data-feature">
																<a href="/sendmail/edit/template/{{template.id}}">
																	<button class="item" data-toggle="tooltip" data-placement="top" title="" data-original-title="Edit Template">
																		<i class="zmdi zmdi-edit"></i>
																	</button>
																</a>
																<a href="/sendmail/remove/template/{{template.id}}">
																	<button class="item ml-1" data-toggle="tooltip" data-placement="top" title="" data-original-title="Remove Template">
																		<i class="zmdi zmdi-delete"></i>
																	</button>
																</a>
															</div>
														</td>
													</tr>
												{% endfor %}
											</tbody>
										</table>
									</div>
									<div class="user-data__footer">
										<a>
											<button class="au-btn au-btn-load mr-1">load more</button>
										</a>
									</div>


								</div>
							</div>

						</div>
						<!-- END USER DATA-->
					</div>
				</div>
			</div>
		</div>

	</section>


	{% for template in templates %}

		<div class="modal fade" id="{{template.id}}" tabindex="-1" role="dialog" aria-labelledby="largeModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-lg" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="largeModalLabel">Email template</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">Ã—</span>
						</button>
					</div>
					<div class="modal-body">
						<p>
							{{template.content|raw}}
						</p>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-dismiss="modal">close</button>
					</div>
				</div>
			</div>
		</div>


	{% endfor %}

{% endblock %}

{% block javascript %}
	<script src="{{asset('/vendor/ckeditor/ckeditor.js')}}"></script>
	<script src="{{asset('/js/sendmail.js')}}"></script>
	<script>
		CKEDITOR.replace('email_template_content', {height: 300});
	</script>
{% endblock %}
